<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="google-site-verification" content="OcsZXBpQqAp8163-20wn3epncmCv_UBtqBLZmspy-NA">
  
  <title>ğŸ”¥ é¢è¯• | Java | Arginsen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Javainterview">
  
  
  
  
  <meta name="keywords" content="Java,interview">
<meta property="og:type" content="article">
<meta property="og:title" content="ğŸ”¥ é¢è¯• | Java">
<meta property="og:url" content="https://lixupeng.cn/blog/2025/02/19/1-interview-java/index.html">
<meta property="og:site_name" content="Arginsen&#39;s Blog">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://lixupeng.cn/blog/img/interview-new.jpg">
<meta property="og:updated_time" content="2025-08-19T07:49:54.042Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ğŸ”¥ é¢è¯• | Java">
<meta name="twitter:image" content="https://lixupeng.cn/blog/img/interview-new.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Arginsen&#39;s Blog" type="application/atom+xml">
  
  <link rel="icon" href="/blog/css/images/favicon.ico">
  
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="https://fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/blog/css/style.css">

  <script src="/blog/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/blog/css/bootstrap.css">
  <link rel="stylesheet" href="/blog/css/fashion.css">
  <link rel="stylesheet" href="/blog/css/glyphs.css">

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  



<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/blog/" title="Arginsen&#39;s Blog" rel="home"> Arginsen&#39;s Blog </a>
            
          </h1>
          
          
            <div class="site-description">smells like teen spirit</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/">é¦–é¡µ</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/archives">å½’æ¡£</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/categories">åˆ†ç±»</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/about">å…³äº</a> </li>
                    
              </ul>
            </div>
          </nav>
      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-1-interview-java" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/blog/img/interview-new.jpg" rel="gallery_cmeclz8bx0012mtpuiwvohlij">
        <img src="/blog/img/interview-new.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      ğŸ”¥ é¢è¯• | Java
    </h1>
  

      </header>
    

    <div class="article-entry" itemprop="articleBody">
      
        <p><br><br><a id="more"></a></p>
<h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><h2 id="JVM-åŸºç¡€ä¸å†…å­˜æ¨¡å‹"><a href="#JVM-åŸºç¡€ä¸å†…å­˜æ¨¡å‹" class="headerlink" title="JVM åŸºç¡€ä¸å†…å­˜æ¨¡å‹"></a>JVM åŸºç¡€ä¸å†…å­˜æ¨¡å‹</h2><h3 id="JVM-çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰"><a href="#JVM-çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰" class="headerlink" title="JVM çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰"></a>JVM çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰</h3><p>The JVM memory consists of Heap, Method Area(Meta Space), VM Stack, Program Counter Register and Native Method Stack.</p>
<h3 id="å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ"><a href="#å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ" class="headerlink" title="å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ"></a>å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ</h3><p>The stack stores method calls and local variables, while the heap stores object instances. With escape analysis, some objects can be allocated on the stack.</p>
<p>Escape analysis means Object references from some methods are not returned, or not used externally</p>
<h3 id="Java-å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ"><a href="#Java-å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ" class="headerlink" title="Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ"></a>Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</h3><p>JMM defines the visibility, atomicity, and ordering rules for multithreaded variable access, solving reordering issues from compiler and CPU.</p>
<p>The thread safety can be accompilshed by synchronization keywords(synchronized, volatile, final), CAS operations and locking mechanisms.</p>
<h3 id="ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ</h3><p>Escape analysis checks if an object escapes a method/thread. If not, it can be stack-allocated or scalar replaced, reducing heap allocation.</p>
<h3 id="å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ"></a>å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ</h3><p>The reference type of the object is related to determine whether an object is dead.</p>
<p>Strong Reference: never collected by GC.<br>Soft Reference: colleceted only when memory is low, often used for caches.<br>Weak Reference: Collected in the next GC.<br>Phantom Reference: Used for tracking object finalization, no impact on lifecycle.</p>
<h2 id="ç±»åŠ è½½æœºåˆ¶"><a href="#ç±»åŠ è½½æœºåˆ¶" class="headerlink" title="ç±»åŠ è½½æœºåˆ¶"></a>ç±»åŠ è½½æœºåˆ¶</h2><h3 id="JVM-ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰"><a href="#JVM-ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰" class="headerlink" title="JVM ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰"></a>JVM ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰</h3><p>It includes loading, verification, preparation, resolution and initialization.</p>
<h3 id="ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ"><a href="#ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ" class="headerlink" title="ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ"></a>ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</h3><p>In the parent delegation model, a class loader delegates the loading request to its parent. if the parent cannot find the class, the current loader will try. This prevents duplicate loading and protects core classes.</p>
<h3 id="è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h3><h3 id="ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM-å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM-å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ</h3><p>JVM supports dynamic class loading through Classloader and allows hot replacement via JVMTI or instrumentation API.</p>
<h2 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h2><h3 id="JVM-ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ"><a href="#JVM-ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ" class="headerlink" title="JVM ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ"></a>JVM ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ</h3><p>JVM uses GC Roots reachability analysis. If an object is not reachable from GC Roots, it is considered garbage. GC Roots include references from the stack, static variables, and native methods.</p>
<h3 id="å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"></a>å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</h3><p>Reference Counting is simple and real-time but cannot handle circular references.</p>
<p>Reachability Analysis solves circular references and is used by modern JVMs, but it requires Stop-The-World which causes pause when traversing the entire object gragh from GC Roots.</p>
<h3 id="Minor-GCã€Major-GCã€Full-GC-çš„åŒºåˆ«ï¼Ÿ"><a href="#Minor-GCã€Major-GCã€Full-GC-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Minor GCã€Major GCã€Full GC çš„åŒºåˆ«ï¼Ÿ"></a>Minor GCã€Major GCã€Full GC çš„åŒºåˆ«ï¼Ÿ</h3><p>Minor GC cleans the Young Generation(fast),<br>Major GC cleans the Old Generation(slow),<br>and Full GC cleans the entire heap and method area.</p>
<h3 id="å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰"><a href="#å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰" class="headerlink" title="å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰"></a>å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰</h3><p>Common GC algorithms include Serial, Parnew, CMS, G1, ZGC and Shenandoah.</p>
<h3 id="CMS-æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ-CMS-ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ"><a href="#CMS-æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ-CMS-ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ" class="headerlink" title="CMS æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ CMS ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ"></a>CMS æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ CMS ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ</h3><p>CMS is concurrent and low-latency but may cause fragmentation and floating garbage.</p>
<h3 id="G1-æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ"><a href="#G1-æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ" class="headerlink" title="G1 æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ"></a>G1 æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ</h3><p>G1 divides the heap into reginos and collects based on priority, making latenncy more predictable.</p>
<h3 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨-GC-Roots-å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨-GC-Roots-å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨ GC Roots å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨ GC Roots å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ</h3><p>The object will survive If it is related with any object in the reference chain of GC Roots.</p>
<h3 id="Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ"><a href="#Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ" class="headerlink" title="Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ"></a>Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ</h3><p>STW occurs when all application threads pause during GC or at a safepoint.</p>
<p>A safepoint is a JVM stop point where all threads must pause, typically used during GC or profiling.</p>
<h2 id="æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜"><a href="#æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜"></a>æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜</h2><h3 id="JVM-å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX-UseG1GC-ç­‰ï¼‰"><a href="#JVM-å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX-UseG1GC-ç­‰ï¼‰" class="headerlink" title="JVM å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX:+UseG1GC ç­‰ï¼‰"></a>JVM å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX:+UseG1GC ç­‰ï¼‰</h3><p>-Xms / -Xmxï¼š Initial and max heap size</p>
<p>-Xssï¼š Thread stack size</p>
<p>-XX:MetaspaceSizeï¼š MetaSpace size</p>
<p>-XX:+UseG1GCï¼š Enable G1 collector</p>
<p>-XX:+PrintGCDetailsï¼š Print GC logs</p>
<h3 id="å¦‚ä½•æ’æŸ¥-JVM-å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰"><a href="#å¦‚ä½•æ’æŸ¥-JVM-å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰" class="headerlink" title="å¦‚ä½•æ’æŸ¥ JVM å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰"></a>å¦‚ä½•æ’æŸ¥ JVM å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰</h3><p>Tools like jmap, jstack, visualVM and Arthas can help analyze memory and threads. GC logs are also crucial for identifying issues.</p>
<h3 id="å‘ç”Ÿ-OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ"><a href="#å‘ç”Ÿ-OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ" class="headerlink" title="å‘ç”Ÿ OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ"></a>å‘ç”Ÿ OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ</h3><p>Java heap space<br>GC overhead limit exceeded<br>Metaspace<br>Direct buffer memory<br>Unable to create new native thread </p>
<h3 id="JVM-è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC-æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰"><a href="#JVM-è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC-æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰" class="headerlink" title="JVM è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰"></a>JVM è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰</h3><p>During JVM tuning, I mainly monitor GC count and pause time, heap and old generation usage, thread numbers and states, and CPU utilization. </p>
<p>In addtion, I also check application-level latency indicators, such as P99 response time, to see if GC affects performance. </p>
<h3 id="ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°-GC-é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ"><a href="#ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°-GC-é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ° GC é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ"></a>ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ° GC é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ</h3><p>First,I will check GC logs to see whether frequent GCs are Minor or Full. </p>
<p>Then I use tools like jstat, jmap and jstack to analyze heap memory usage and thread states. </p>
<p>If itâ€™s caused by insufficient memory, I adjust heap size or GC parameters;</p>
<p>If itâ€™s a code issue, such as cache not being cleard or memory leak, I analyze heap dumps and fix the code.</p>
<p>Finally, I may switch to a more suitable garbage collector, such as G1.</p>
<h3 id="JVM-æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ"><a href="#JVM-æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ" class="headerlink" title="JVM æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ"></a>JVM æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ</h3><p>JVM relies on OS-level scheduling. During a context switch, it saves and restores thread states, including registers and. stack pointers.</p>
<p>JVM ensures thread satety via the JMM(java memory model), synchronization keywords(synchronized, volatile), CAS operations and locking mechanisms.</p>
<h3 id="JVM-ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰"><a href="#JVM-ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰" class="headerlink" title="JVM ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰"></a>JVM ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰</h3><p>JIT optimizations include method inlining, escape analysis, lock elimination, loop unrolling, and dead code elimination.</p>
<h3 id="å†…å­˜æ³„æ¼å¯¼è‡´-JVM-å†…å­˜çˆ†æ»¡-pod-ä¸€ç›´é‡å¯æ’æŸ¥ã€‚"><a href="#å†…å­˜æ³„æ¼å¯¼è‡´-JVM-å†…å­˜çˆ†æ»¡-pod-ä¸€ç›´é‡å¯æ’æŸ¥ã€‚" class="headerlink" title="å†…å­˜æ³„æ¼å¯¼è‡´ JVM å†…å­˜çˆ†æ»¡ pod ä¸€ç›´é‡å¯æ’æŸ¥ã€‚"></a>å†…å­˜æ³„æ¼å¯¼è‡´ JVM å†…å­˜çˆ†æ»¡ pod ä¸€ç›´é‡å¯æ’æŸ¥ã€‚</h3><p>it will cause memory leaks such as repeatedly creating new ClassLoader instances with Class.forName, storing reflected objects in static collections without release, or frequently fetching Method/Field objects without caching.</p>
<p>Thus, the Metaspace will be exhaused. This process shows the increasing memory usage until hitting the limit and then the pod restart.</p>
<p>We dumped the heap with jmap and analyzed it using MAT, and found a large number of relection-related objects being strongly referenced in static collectinos. This prevented GC from reclaiming them.</p>
<p>THe root cause was that our code created reflectino objects but never released them. We fixed it by using weak references for caching or explicitly clearing references after use.</p>

      
    </div>
    <br>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/blog/categories/notes/">notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/interview/">interview</a></li></ul>

      
	<span class="ico-date"></span>
	<a href="/blog/2025/02/19/1-interview-java/" class="article-date">
	  <time datetime="2025-02-18T16:00:00.000Z" itemprop="datePublished">äºŒæœˆ 19, 2025</time>
	</a>

      <!-- æ·»åŠ å­—æ•°ç»Ÿè®¡ -->
      
        <span class="ico-fontcount"></span><span class="post-count">1.3kå­—</span>
      
    </footer>
    <!-- æ–‡ç« æ·»åŠ è¯„è®º -->
    
      
    <script defer src="https://unpkg.com/leancloud-storage@4/dist/av-min.js"></script>
    <script defer src='https://unpkg.com/valine@latest/dist/Valine.min.js'></script>
    <div id="vcomments"></div>
    <script>

        var notify = 'false' == true ? true : false;
        var verify = 'false' == true ? true : false;
		// è®¾ç½®è½®è¯¢
		const timer = setInterval(() => {
			if (window.Valine && typeof window.Valine === 'function') {
				clearInterval(timer);
				new Valine({
					el: '#vcomments',
					notify: notify,
					verify: verify,
					app_id: 'AJj6aG4cDMBqBIISAr1U53Az-gzGzoHsz',
					app_key: 'bIYBhlht4PSXI4pCWuH7Gnuo',
					placeholder: 'say something bro ~',
					avatar: 'monsterid',
					avatarCDN:'https://cravatar.cn/avatar/',
					visitor: 'true',
                    emojiCDN: '//i0.hdslb.com/bfs/emote/', 
                    // è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„
                    emojiMaps: {
                        "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
                        "tv_äº²äº²": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
                        "tv_å·ç¬‘": "bb690d4107620f1c15cff29509db529a73aee261.png",
                        "tv_å†è§": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
                        "tv_å†·æ¼ ": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
                        "tv_å‘æ€’": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
                        "tv_å‘è´¢": "34db290afd2963723c6eb3c4560667db7253a21a.png",
                        "tv_å¯çˆ±": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
                        "tv_åè¡€": "09dd16a7aa59b77baa1155d47484409624470c77.png",
                        "tv_å‘†": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
                        "tv_å‘•å": "9f996894a39e282ccf5e66856af49483f81870f3.png",
                        "tv_å›°": "241ee304e44c0af029adceb294399391e4737ef2.png",
                        "tv_åç¬‘": "1f0b87f731a671079842116e0991c91c2c88645a.png",
                        "tv_å¤§ä½¬": "093c1e2c490161aca397afc45573c877cdead616.png",
                        "tv_å¤§å“­": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
                        "tv_å§”å±ˆ": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
                        "tv_å®³ç¾": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
                        "tv_å°´å°¬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
                        "tv_å¾®ç¬‘": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
                        "tv_æ€è€ƒ": "90cf159733e558137ed20aa04d09964436f618a1.png",
                        "tv_æƒŠå“": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
                        // ... æ›´å¤šè¡¨æƒ…
                    }
				});
			}
		}, 1000);
    </script>



    
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2025/02/21/1-interview-mysql/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          ğŸ”¥ é¢è¯• | Spring Cloud
        
      </div>
    </a>
  
  
    <a href="/blog/2025/02/12/1-interview-spring/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">ğŸ”¥ é¢è¯• | Spring Cloud</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
      <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM"><span class="nav-number">1.</span> <span class="nav-text">JVM</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM-åŸºç¡€ä¸å†…å­˜æ¨¡å‹"><span class="nav-number">1.1.</span> <span class="nav-text">JVM åŸºç¡€ä¸å†…å­˜æ¨¡å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰"><span class="nav-number">1.1.1.</span> <span class="nav-text">JVM çš„å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆå †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ"><span class="nav-number">1.1.2.</span> <span class="nav-text">å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿå¯¹è±¡ä¸€å®šåˆ†é…åœ¨å †ä¸Šå—ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ"><span class="nav-number">1.1.3.</span> <span class="nav-text">Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ"><span class="nav-number">1.1.4.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æï¼Ÿå®ƒä¼šå¸¦æ¥å“ªäº›ä¼˜åŒ–ï¼ˆå¦‚æ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ï¼‰ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ"><span class="nav-number">1.1.5.</span> <span class="nav-text">å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿå„è‡ªåº”ç”¨åœºæ™¯ï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç±»åŠ è½½æœºåˆ¶"><span class="nav-number">1.2.</span> <span class="nav-text">ç±»åŠ è½½æœºåˆ¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰"><span class="nav-number">1.2.1.</span> <span class="nav-text">JVM ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬å“ªå‡ ä¸ªé˜¶æ®µï¼Ÿï¼ˆåŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ"><span class="nav-number">1.2.2.</span> <span class="nav-text">ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„åŒäº²å§”æ´¾æ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><span class="nav-number">1.2.3.</span> <span class="nav-text">è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM-å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ"><span class="nav-number">1.2.4.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯çƒ­åŠ è½½ï¼ˆHotSwapï¼‰ï¼ŒJVM å¦‚ä½•æ”¯æŒç±»çš„åŠ¨æ€åŠ è½½ï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åƒåœ¾å›æ”¶"><span class="nav-number">1.3.</span> <span class="nav-text">åƒåœ¾å›æ”¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ"><span class="nav-number">1.3.1.</span> <span class="nav-text">JVM ä¸­å¯¹è±¡ä»€ä¹ˆæ—¶å€™ä¼šè¢«åˆ¤å®šä¸ºå¯å›æ”¶ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><span class="nav-number">1.3.2.</span> <span class="nav-text">å¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†ææ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Minor-GCã€Major-GCã€Full-GC-çš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.3.3.</span> <span class="nav-text">Minor GCã€Major GCã€Full GC çš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰"><span class="nav-number">1.3.4.</span> <span class="nav-text">å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨æœ‰å“ªäº›ï¼Ÿï¼ˆSerialã€ParNewã€CMSã€G1ã€ZGCã€Shenandoahï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CMS-æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ-CMS-ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ"><span class="nav-number">1.3.5.</span> <span class="nav-text">CMS æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ CMS ä¼šæœ‰â€œæµ®åŠ¨åƒåœ¾â€ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#G1-æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ"><span class="nav-number">1.3.6.</span> <span class="nav-text">G1 æ”¶é›†å™¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯é¢å‘å»¶è¿Ÿçš„æ”¶é›†å™¨ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨-GC-Roots-å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ"><span class="nav-number">1.3.7.</span> <span class="nav-text">å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡åœ¨ GC Roots å¯è¾¾æ€§åˆ†æä¸­å­˜æ´»ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ"><span class="nav-number">1.3.8.</span> <span class="nav-text">Stop-The-Worldï¼ˆSTWï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜"><span class="nav-number">1.4.</span> <span class="nav-text">æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX-UseG1GC-ç­‰ï¼‰"><span class="nav-number">1.4.1.</span> <span class="nav-text">JVM å¸¸ç”¨çš„æ€§èƒ½è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿï¼ˆ-Xmxã€-Xmsã€-XX:+UseG1GC ç­‰ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¦‚ä½•æ’æŸ¥-JVM-å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰"><span class="nav-number">1.4.2.</span> <span class="nav-text">å¦‚ä½•æ’æŸ¥ JVM å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¸¸ç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆjmapã€jstackã€jconsoleã€VisualVMã€Arthasï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å‘ç”Ÿ-OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ"><span class="nav-number">1.4.3.</span> <span class="nav-text">å‘ç”Ÿ OOMï¼ˆOutOfMemoryErrorï¼‰æ—¶å¦‚ä½•å®šä½å’Œè§£å†³ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC-æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰"><span class="nav-number">1.4.4.</span> <span class="nav-text">JVM è°ƒä¼˜æ—¶å¸¸è§çš„ç›‘æ§æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿï¼ˆGC æ¬¡æ•°ã€å»¶è¿Ÿã€å †å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°-GC-é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ"><span class="nav-number">1.4.5.</span> <span class="nav-text">ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ° GC é¢‘ç¹ã€å“åº”å˜æ…¢ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ"><span class="nav-number">1.4.6.</span> <span class="nav-text">JVM æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹åˆ‡æ¢å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM-ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰"><span class="nav-number">1.4.7.</span> <span class="nav-text">JVM ä¸­æœ‰å“ªäº›å³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Ÿï¼ˆå¦‚æ–¹æ³•å†…è”ã€é€ƒé€¸åˆ†æã€é”æ¶ˆé™¤ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å†…å­˜æ³„æ¼å¯¼è‡´-JVM-å†…å­˜çˆ†æ»¡-pod-ä¸€ç›´é‡å¯æ’æŸ¥ã€‚"><span class="nav-number">1.4.8.</span> <span class="nav-text">å†…å­˜æ³„æ¼å¯¼è‡´ JVM å†…å­˜çˆ†æ»¡ pod ä¸€ç›´é‡å¯æ’æŸ¥ã€‚</span></a></li></ol></li></ol></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">HOME</a>
  
    <a href="/blog/archives" class="mobile-nav-link">ARCHIVES</a>
  
    <a href="/blog/categories" class="mobile-nav-link">CATEGORIES</a>
  
    <a href="/blog/about" class="mobile-nav-link">ABOUT</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2025 Arginsen&#39;s Blog All Rights Reserved.
      </div>
      <div class="site-credit">
        ID  <a href="https://lixupeng.cn" target="_blank">Arginsen</a>
      </div>
      <br>
      <div class="busuanzi-analytics">
        
        <span id="busuanzi_container_site_pv">
          æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
        </span>
        <span class="post-meta-divider">|</span>
        <!-- <span id="busuanzi_container_site_uv">
          æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº
        </span> -->
        <span class="post-count">å…¨ç«™å…± 368.6k å­—</span>
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        
      </div>
  </div> 
</footer>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>
<script src="/blog/js/bootstrap.js"></script>
<script src="/blog/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>


<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?bb74e3da22205cadfa4f6e0a31a76ac4";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>
    


  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/blog/js/totop.js" async=""></script>
</body>
</html>
