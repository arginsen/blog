---
title: 语言 | Java 基础Ⅰ：变量与数据类型
date: 2021-12-14
tags: 
- Java
- Backend
categories: notes
photos:
    - /blog/img/java.jpg
---

<br>
<!--more-->

# java 程序编译与运行

编译：是指将我们编写的 java 源文件翻译成 JVM 认识的 class 文件，在这个过程中，javac 编译器会检查我们所写的程序是否有错误，有错误就会提示出来，没有错就编译成功

运行：是指将 class文件 交给JVM去运行，此时JVM就会去执行我们编写的程序了。

补充：
1. java 11 新增的功能，可以使 java 直接运行一个 `.java` 的源码文件；
2. 一个 Java 源码只能定义一个 public 类型的 class，并且 class 名称和文件名要完全一致；

# java 程序的基本结构

```java
/**
 * 可以用来自动创建文档的注释
 */
public class Hello {
    public static void main(String[] args) {
        // 向屏幕输出文本:
        System.out.println("Hello, world!");
        /* 多行注释开始
        注释内容
        注释结束 */
    }
}
```

Java是面向对象的语言，一个程序的基本单位就是class，class是关键字

# java 标识符

- 标识符：是指在程序中，我们自己定义内容。比如类的名字、方法的名字和变量的名字等等，都是标识符

- 命名规则：
  - 标识符可以包含 英文字母26个(区分大小写) 、 0-9数字 、 `$`（美元符号） 和 `_`（下划线） 。
  - 标识符不能以数字开头。
  - 标识符不能是关键字。

- 命名规范：
  - 类名规范：首字母大写，后面每个单词首字母大写（大驼峰式）。
  - 方法名规范： 首字母小写，后面每个单词首字母大写（小驼峰式）。
  - 变量名规范：全部小写

# java 常量

常量：是指在Java程序中固定不变的数据。

整数常量: 所有的整数
小数常量: 所有的小数
字符常量: 单引号引起来,只能写一个字符,必须有内容
字符串常量: 双引号引起来,可以写多个字符,也可以不写
布尔常量: 只有两个值
空常量: 只有一个值 null

# java 变量

- 变量：常量是固定不变的数据，那么在程序中可以变化的量称为变量

> Java中要求一个变量每次只能保存一个数据，必须要明确保存的数据类型。

# java 数据类型

- 基本数据类型：整数 、 浮点数 、 字符 、 布尔 。
- 引用数据类型：类 、 数组 、 接口 。

数据类型    | 关键字         | 内存占用 | 取值范围
---------- | -------------- | ------- | ---------
字节型      | byte          | 1个字节 | -128~127
短整型      | short         | 2个字节 | -32768~32767
整型        | int（默认）    | 4个字节 | -2的31次方~2的31次方-1
长整型      | long          | 8个字节 |  -2的63次方~2的63次方-1
单精度浮点数 | float         | 4个字节 | 1.4013E-45~3.4028E+38
双精度浮点数 | double（默认）| 8个字节 | 4.9E-324~1.7977E+308
字符型      | char          | 2个字节 | 0-65535
布尔类型    | boolean       | 1个字节 | true，false

> Java中的默认类型：整数类型是 int 、浮点类型是 double 。
> 所以相应的，建议 long 类型的数据后加 L 表示，float 类型的数据后加 F 表示

```java
public class Variable {
  public static void main(String[] args){
    //定义字节型变量
    byte b = 100;
    //定义短整型变量
    short s = 1000;
    //定义整型变量
    int i = 123456;
    //定义长整型变量
    long l = 12345678900L;
    //定义单精度浮点型变量
    float f = 5.5F;
    //定义双精度浮点型变量
    double d = 8.5;
    //定义布尔型变量
    boolean bool = false;
    //定义字符型变量
    char c = 'A';
    //定义字符串型变量 -- 字符串是引用数据类型
    String d = "B";
  }
}
```

> class用来定义一个类，public表示这个类是公开的; public、static 用来修饰方法，这里表示它是一个公开的静态方法，void 是方法的返回类型

# 数据类型转换

## 自动转换

将取值范围小的类型自动提升为取值范围大的类型。例如 int 和 byte 类型的变量进行加法运算，结果为 int 类型

转换规则：

byte、short、char‐‐>int‐‐>long‐‐>float‐‐>double

byte、short、char 运算时直接提升为 int
int 和 long 运算时，int 被提升为 long
数字和浮点数运算时被提升为浮点数

## 强制转换

```java
// double类型数据强制转成int类型，直接去掉小数点。
int i = (int)1.5;

// 我们知道会类型提升，但是还想给结果赋值给short类型变量，就需要强制转换。
short s = 1;
/*
出现编译失败
s和1做运算的时候，1是int类型，s会被提升为int类型
s+1后的结果是int类型，将结果在赋值会short类型时发生错误
short内存2个字节，int类型4个字节
必须将int强制转成short才能完成赋值
*/
s = s + 1；//编译失败
s = (short)(s+1); //编译成功

// 浮点转成整数，直接取消小数点，可能造成数据损失精度。
// int 强制转成 short 砍掉2个字节，可能造成数据丢失。

// 定义s为short范围内最大值
short s = 32767;
// 运算后，强制转换，砍掉2个字节后会出现不确定的结果
s = (short)(s + 10);
```

# 运算符

## 算数运算符

+ 加法运算，字符串连接运算
- 减法运算
* 乘法运算
/ 除法运算
% 取模运算，两个数字相除取余数
++/-- 自增自减运算

++ 运算符在独立运算时，++i 与 i++ 没有区别；在混合运算时，变量的前后是不同的

```java
public static void main(String[] args) {
    int a = 1;
    int b = ++a;
    System.out.println(a);//计算结果是2
    System.out.println(b);//计算结果是2
}

public static void main(String[] args) {
    int a = 1;
    int b = a++;
    System.out.println(a);//计算结果是2
    System.out.println(b);//计算结果是1
}
```

+ 运算符在字符串中表示拼接、连接的意思

变量与常量的运算：

```java
public static void main(String[] args){
    byte b1=1;
    byte b2=2;
    byte b3=1 + 2;
    byte b4=b1 + b2;
    System.out.println(b3);
    System.out.println(b4);
}
```

b3 是两个常量相加后的常量，因此 b3 给赋值 3 这个常量；
b4 是两个 byte 变量相加，得到的结果为 int 类型，而再将 int 类型赋值给 b4 就会出错

## 赋值运算符

`=` 等于号
`+=` 加等于
`-=` 减等于
`*=` 乘等于
`/=` 除等于
`%=` 取模等

```java
public static void main(String[] args){
    short s = 1;
    s+=1;
    System.out.println(s);
}
```

分析： `s += 1` 逻辑上看作是 `s = s + 1` 计算结果被提升为int类型，再向short类型赋值时发生错误，因为不能将取值范围
大的类型赋值到取值范围小的类型。但是， `s=s+1` 进行两次运算 , `+=` 是一个运算符，只运算一次，并带有强制转换的特点，也就是说 `s += 1` 就是 `s = (short)(s + 1)`, 因此程序没有问题编译通过，运行结果是 `2`

## 比较运算符

`==` 比较符号两边数据是否相等，相等结果是 true。
`<` 比较符号左边的数据是否小于右边的数据，如果小于结果是 true。
`>` 比较符号左边的数据是否大于右边的数据，如果大于结果是 true。
`<=` 比较符号左边的数据是否小于或者等于右边的数据，如果小于结果是 true。
`>=` 比较符号左边的数据是否大于或者等于右边的数据，如果小于结果是 true。
`!=` 不等于符号 ，如果符号两边的数据不相等，结果是 true

## 逻辑运算符

&& 短路与 符号左边是false，右边不再运算
|| 短路或 符号左边是true，右边不再运算
! 取反

## 三元运算符

```java
int j = (3<=4 ? 500 : 600);
```